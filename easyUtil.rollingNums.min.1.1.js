/*
 * easyUtil.rollingNums
 * (c) Copyright 2018 QiYan. All Rights Reserved.
 * **/
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define(t):"function"==typeof define?define(t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=t():e.easy_RollNums=t()}("undefined"!=typeof window?window:void 0,function(){function e(e,t,r,o,n,i){var l=r,f=o,u=n,s=i,a=t,c=null,m=e;Object.defineProperty(this,"__id",{get:function(){return m},set:function(e){m=e}}),Object.defineProperty(this,"__ul_el",{get:function(){return c},set:function(e){c=e}}),this.getHeight=function(){return l},this.getInitNum=function(){return a},this.setNums=function(e){a=e},this.getColor=function(){return f},this.getBgColor=function(){return u},this.getBorderColor=function(){return s}}function t(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o.height,i=void 0===n?25:n,l=o.color,f=void 0===l?"#000000":l,u=o.bgColor,s=void 0===u?"#ffffff":u,a=o.borderColor,c=void 0===a?"#ffffff":a;if("string"!=typeof t)throw new TypeError('param "id" must be "String"!');if("number"!=typeof r)throw new TypeError('param "num" is not a number!');if("number"!=typeof i)throw new TypeError('param "height" must be "Number"!');if("string"!=typeof f)throw new TypeError('param "color" must be "String"!');if("string"!=typeof s)throw new TypeError('param "bgColor" must be "String"!');i<25&&(i=25);var m=new e(t,r,i,f,s,c);return Object.freeze(m),m.__init__(),m}Array.from||(Array.from=function(e,t){if(void 0===e||null===e)throw new Error("TypeError: In Array.from--param is "+arguments[0]);if(void 0===t)return[].slice.call(e);if("function"==typeof t)return[].slice.call(e).map(function(e,r,o){return t.call(this,e,r)});throw new Error('TypeError: In Array.from--"'+arguments[1]+'" is not a function!')});return e.prototype={constructor:e,__init__:function(){this.__id&&(this.__createDom__(),setTimeout(this.change.bind(this),1e3))},__createDom__:function(){var e=((new Date).getTime(),this.getHeight()),t=document.createDocumentFragment(),r=document.createElement("li"),o=document.createElement("li");this.__ul_el=document.createElement("ul"),this.__ul_el.className="main-container",this.__ul_el.style.height=e+"px",this.__ul_el.style.lineHeight=e+"px",r.className="nums-part init-roll";for(var n=0;n<10;n++){var i=document.createElement("div");i.style.height=e+"px",i.style.lineHeight=e+"px",i.style.fontSize=e/20+"rem",i.style.border="2px solid "+this.getBorderColor(),i.style.color=this.getColor(),i.style.backgroundColor=this.getBgColor(),i.textContent=n,r.appendChild(i)}o.className="nums-part point-part",o.textContent=",",o.style.fontSize=e/20+"rem",o.style.color="#ffffff"===this.getColor()?"":this.getColor();for(var l=this.__ul_el,f=[].concat(_toConsumableArray(this.getInitNum()+"")).length,u=0;u<f;u++){if(u>0&&u%3==0){var s=o.cloneNode(!0);l.insertBefore(s,l.firstChild)}var a=r.cloneNode(!0);l.insertBefore(a,l.firstChild)}t.appendChild(l);var c=document.querySelector("#"+this.__id);c.getElementsByTagName("ul")[0]&&c.removeChild(c.getElementsByTagName("ul")[0]);if(null,c.appendChild(t),this.getInitNum()<0)throw this.__id=null,new Error("当前数字小于0!")},change:function(){var e=this.getInitNum().toLocaleString(),t=this.getHeight(),r=this.__ul_el.getElementsByTagName("li");if(e.length!==r.length)return void this.__init__();t+=4;for(var o=0;o<r.length;o++)","!==e[o]&&(r[o].style.top="-"+e[o]*t+"px")}},{create:t}});