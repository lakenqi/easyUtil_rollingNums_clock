/*
 * easyUtil.rollingNums
 * (c) Copyright 2018 QiYan. All Rights Reserved.
 * **/
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define(t):"function"==typeof define?define(t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=t():e.easy_RollNums=t()}("undefined"!=typeof window?window:void 0,function(){function e(e,t,r,o,n,i){var l=r,f=o,u=n,a=i,s=t;this.__id=e,this.__ul_el=null,this.getHeight=function(){return l},this.getInitNum=function(){return s},this.getColor=function(){return f},this.getBgColor=function(){return u},this.getBorderColor=function(){return a}}function t(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o.height,i=void 0===n?25:n,l=o.color,f=void 0===l?"#000000":l,u=o.bgColor,a=void 0===u?"#ffffff":u,s=o.borderColor,m=void 0===s?"#ffffff":s;if("string"!=typeof t)throw new TypeError('param "id" must be "String"!');if("number"!=typeof r)throw new TypeError('param "num" is not a number!');if("number"!=typeof i)throw new TypeError('param "height" must be "Number"!');if("string"!=typeof f)throw new TypeError('param "color" must be "String"!');if("string"!=typeof a)throw new TypeError('param "bgColor" must be "String"!');i<25&&(i=25);var c=new e(t,r,i,f,a,m);return c.init(),c}Array.from||(Array.from=function(e,t){if(void 0===e||null===e)throw new Error("TypeError: In Array.from--param is "+arguments[0]);if(void 0===t)return[].slice.call(e);if("function"==typeof t)return[].slice.call(e).map(function(e,r,o){return t.call(this,e,r)});throw new Error('TypeError: In Array.from--"'+arguments[1]+'" is not a function!')});return e.prototype={constructor:e,init:function(){var e=this.getHeight();this.createDom(e),setTimeout(this.change.bind(this,e),1e3)},createDom:function(e){var t=((new Date).getTime(),document.createDocumentFragment()),r=document.createElement("li"),o=document.createElement("li");this.__ul_el=document.createElement("ul"),this.__ul_el.className="main-container",this.__ul_el.style.height=e+"px",this.__ul_el.style.lineHeight=e+"px",r.className="nums-part init-roll";for(var n=0;n<10;n++){var i=document.createElement("div");i.style.height=e+"px",i.style.lineHeight=e+"px",i.style.fontSize=e/20+"rem",i.style.border="2px solid "+this.getBorderColor(),i.style.color=this.getColor(),i.style.backgroundColor=this.getBgColor(),i.textContent=n,r.appendChild(i)}o.className="nums-part point-part",o.textContent=",",o.style.fontSize=e/20+"rem",o.style.color="#ffffff"===this.getColor()?"":this.getColor();for(var l=this.__ul_el,f=[].concat(_toConsumableArray(this.getInitNum()+"")).length,u=0;u<f;u++){if(u>0&&u%3==0){var a=o.cloneNode(!0);l.insertBefore(a,l.firstChild)}var s=r.cloneNode(!0);l.insertBefore(s,l.firstChild)}t.appendChild(l);var m=document.querySelector("#"+this.__id);m.getElementsByTagName("ul")[0]&&m.removeChild(m.getElementsByTagName("ul")[0]);m.appendChild(t)},change:function(e){var t=this.getInitNum().toLocaleString(),r=this.__ul_el.getElementsByTagName("li");e+=4;for(var o=0;o<r.length;o++)o>0&&o%3==0||(r[o].style.top="-"+t[o]*e+"px")}},{create:t}});